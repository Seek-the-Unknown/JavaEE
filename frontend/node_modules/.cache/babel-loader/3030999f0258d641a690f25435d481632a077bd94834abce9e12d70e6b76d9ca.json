{"ast":null,"code":"import { reactive, watch } from \"vue\";\nexport default {\n  __name: 'VenueForm',\n  props: {\n    initialData: {\n      type: Object,\n      default: () => ({})\n    },\n    isLoading: Boolean,\n    errorMessage: String\n  },\n  emits: [\"submit\"],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n\n    // ... <script setup> 部分保持不变 ...\n    const props = __props;\n    const emit = __emit;\n    const formData = reactive({\n      name: \"\",\n      type: \"\",\n      pricePerHour: 0,\n      capacity: 0,\n      description: \"\"\n    });\n    const initialFormState = {\n      ...formData\n    };\n    watch(() => props.initialData, newData => {\n      if (newData) {\n        Object.assign(formData, newData);\n      }\n    }, {\n      immediate: true,\n      deep: true\n    });\n    const handleSubmit = () => {\n      emit(\"submit\", {\n        ...formData\n      });\n    };\n    const resetForm = () => {\n      Object.assign(formData, props.initialData || initialFormState);\n    };\n    const __returned__ = {\n      props,\n      emit,\n      formData,\n      initialFormState,\n      handleSubmit,\n      resetForm,\n      reactive,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","watch","props","__props","emit","__emit","formData","name","type","pricePerHour","capacity","description","initialFormState","initialData","newData","Object","assign","immediate","deep","handleSubmit","resetForm"],"sources":["F:/Java_web_code/frontend/src/components/VenueForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\" class=\"venue-form\">\n    <div class=\"form-group\">\n      <label for=\"name\">场馆名称 <span class=\"required\">*</span></label>\n      <input\n        type=\"text\"\n        id=\"name\"\n        v-model=\"formData.name\"\n        required\n        placeholder=\"请输入场馆名称\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"type\">场馆类型 <span class=\"required\">*</span></label>\n      <input\n        type=\"text\"\n        id=\"type\"\n        v-model=\"formData.type\"\n        required\n        placeholder=\"例如: 篮球, 羽毛球\"\n      />\n    </div>\n    <div class=\"form-row\">\n      <div class=\"form-group\">\n        <label for=\"price\"\n          >每小时价格 (元) <span class=\"required\">*</span></label\n        >\n        <div class=\"input-with-icon\">\n          <span>¥</span>\n          <input\n            type=\"number\"\n            id=\"price\"\n            v-model.number=\"formData.pricePerHour\"\n            required\n            min=\"0\"\n          />\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"capacity\">容量 (人) <span class=\"required\">*</span></label>\n        <div class=\"input-with-icon\">\n          <i class=\"icon icon-users\"></i>\n          <input\n            type=\"number\"\n            id=\"capacity\"\n            v-model.number=\"formData.capacity\"\n            required\n            min=\"1\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">描述</label>\n      <textarea\n        id=\"description\"\n        v-model=\"formData.description\"\n        placeholder=\"请输入场馆详细信息...\"\n      ></textarea>\n    </div>\n    <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n    <div class=\"form-actions\">\n      <button type=\"submit\" class=\"submit-btn\" :disabled=\"isLoading\">\n        {{ isLoading ? \"提交中...\" : \"确认提交\" }}\n      </button>\n      <button type=\"button\" class=\"reset-btn\" @click=\"resetForm\">\n        重置表单\n      </button>\n    </div>\n  </form>\n</template>\n\n<script setup>\n// ... <script setup> 部分保持不变 ...\nimport { reactive, watch, defineProps, defineEmits } from \"vue\";\nconst props = defineProps({\n  initialData: { type: Object, default: () => ({}) },\n  isLoading: Boolean,\n  errorMessage: String,\n});\nconst emit = defineEmits([\"submit\"]);\nconst formData = reactive({\n  name: \"\",\n  type: \"\",\n  pricePerHour: 0,\n  capacity: 0,\n  description: \"\",\n});\nconst initialFormState = { ...formData };\nwatch(\n  () => props.initialData,\n  (newData) => {\n    if (newData) {\n      Object.assign(formData, newData);\n    }\n  },\n  { immediate: true, deep: true }\n);\nconst handleSubmit = () => {\n  emit(\"submit\", { ...formData });\n};\nconst resetForm = () => {\n  Object.assign(formData, props.initialData || initialFormState);\n};\n</script>\n\n<style scoped>\n@import url(\"@/assets/icons.css\");\n.icon-upload {\n  mask-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'%3E%3C/path%3E%3Cpolyline points='17 8 12 3 7 8'%3E%3C/polyline%3E%3Cline x1='12' y1='3' x2='12' y2='15'%3E%3C/line%3E%3C/svg%3E\");\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 32px;\n}\n.page-subtitle {\n  color: var(--color-text-secondary);\n  margin-top: 8px;\n}\n.back-link {\n  color: var(--color-primary-text);\n  text-decoration: none;\n  font-weight: 500;\n}\n.content-grid {\n  display: grid;\n  grid-template-columns: 320px 1fr;\n  align-items: start;\n  gap: 32px;\n}\n.card {\n  background: #fff;\n  padding: 24px;\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n}\n.card-title {\n  font-size: 16px;\n  font-weight: 600;\n  margin: 0 0 24px;\n}\n.image-uploader {\n  aspect-ratio: 1 / 1;\n  border: 2px dashed var(--color-border);\n  border-radius: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  overflow: hidden;\n  transition: border-color 0.3s;\n  background-color: var(--color-bg-main);\n}\n.image-uploader:hover {\n  border-color: var(--color-primary-text);\n}\n.preview-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.upload-placeholder {\n  text-align: center;\n}\n.upload-icon-wrapper {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  background-color: #f0eefc;\n  color: var(--color-primary-text);\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 12px;\n  border: 4px solid #fff;\n}\n.upload-text {\n  font-weight: 500;\n  margin: 0 0 4px;\n}\n.upload-hint {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n  margin: 0;\n}\n.upload-status {\n  margin-top: 10px;\n  color: var(--color-text-secondary);\n  font-size: 14px;\n}\n</style>\n"],"mappings":"AA0EA,SAASA,QAAQ,EAAEC,KAA+B,QAAQ,KAAK;;;;;;;;;;;;;;;;;;IAD/D;IAEA,MAAMC,KAAK,GAAGC,OAIZ;IACF,MAAMC,IAAI,GAAGC,MAAuB;IACpC,MAAMC,QAAQ,GAAGN,QAAQ,CAAC;MACxBO,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRC,YAAY,EAAE,CAAC;MACfC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;IACf,CAAC,CAAC;IACF,MAAMC,gBAAgB,GAAG;MAAE,GAAGN;IAAS,CAAC;IACxCL,KAAK,CACH,MAAMC,KAAK,CAACW,WAAW,EACtBC,OAAO,IAAK;MACX,IAAIA,OAAO,EAAE;QACXC,MAAM,CAACC,MAAM,CAACV,QAAQ,EAAEQ,OAAO,CAAC;MAClC;IACF,CAAC,EACD;MAAEG,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAK,CAChC,CAAC;IACD,MAAMC,YAAY,GAAGA,CAAA,KAAM;MACzBf,IAAI,CAAC,QAAQ,EAAE;QAAE,GAAGE;MAAS,CAAC,CAAC;IACjC,CAAC;IACD,MAAMc,SAAS,GAAGA,CAAA,KAAM;MACtBL,MAAM,CAACC,MAAM,CAACV,QAAQ,EAAEJ,KAAK,CAACW,WAAW,IAAID,gBAAgB,CAAC;IAChE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}